 <div id="central">
  <div id="post-form">
     <div class="titulo">
          Publicación de Contenido
      </div> 
    
    
      <form [formGroup] ="form" novalidate>
    
        <div class="row">        
          <div class="col-12 col-sm-12 col-md-6 col-lg-6">
            <label>Titulo: </label>
            <input type=text class="box" formControlName="titulo" required>
            <div *ngIf="form?.controls?.title?.touched && form?.controls?.title?.invalid" class="error-message">
              El título es requerido
            </div>
          </div>
        </div>
    
        <div class="row">
          <div class="col-12 col-sm-12 col-md-6 col-lg-6">
            <div class="form-group">
              <label for="typeImpairment">Palabras claves</label>
              <select id="typeImpairment" class="form-control box" formControlName="typeImpairment" multiple>
                <option *ngFor="let type of types" [value]="type">{{ type.description }}</option>
              </select>
              <div *ngIf="form?.controls?.typeImpairment?.touched && form?.controls?.typeImpairment?.invalid" class="text-danger">
                Debe elegir al menos una palabra clave del contenido del artículo.
              </div>
            </div>
          </div>
        </div>
        
        <div class="row">        
          <div class="col-12 col-sm-12 col-md-6 col-lg-6">
            <label>Descripcion: </label>
            <textarea rows="3" class="box" cols="100" formControlName="description" required></textarea>
            <div *ngIf="form?.controls?.title?.touched && form?.controls?.description?.touched && form?.controls?.description?.invalid">             El título es requerido
              La descripción es requerida
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-12 col-sm-12 col-md-6 col-lg-6">
                  <label>Cuerpo:</label>
                  <textarea rows="50" cols="100" class="box" formControlName="text" required></textarea>
                  <div *ngIf="form?.controls?.text?.touched && form?.controls?.text?.invalid">
                      El contenido del articulo es requerido
                  </div>
          </div>
      </div>

      <div class="row">
        <div class=" col-12 col-sm-12 col-md-6 col-lg-6">
            <label> Estado: <span *ngIf="form?.value?.state?.id === 2">Autorizado</span> <span *ngIf="form?.value?.state?.id === 3">Rechazado</span>  <span *ngIf="form?.value?.state?.id === 1 || form?.value === null ">En espera</span></label>
        </div>

        <div class=" col-12 col-sm-12 col-md-6 col-lg-6">
            <label> Autorizado por: <span *ngIf="form?.value?.contactAudit?.name"> {{ form.value.contactAudit.name }}</span></label>
        </div>
    </div>


    <div class="row">
      <div class=" col-12 col-sm-12 col-md-8 col-lg-8">
          <form [formGroup]="uploadForm" novalidate>      
              <div class="archivo">
                <input type="file" name="file" (change)="onFileSelect($event)" />
              </div>
            </form>
      </div>

      <div class=" col-12 col-sm-12 col-md-4 col-lg-4" archivo>
          <img style="max-width: 100px;" *ngIf="imageAux != null" [src]="imageAux" alt="">
      </div>
  </div>

    
      
   
    <div class="row justify-content-center">
      <div class="d-flex justify-content-center">
        <button type="submit" title="savePost" class="submit" (click)= "btn_SavePost()">Guardar</button>
        <button type="button" title="newPost" class="submit" (click)=" btn_NewPost()">Nuevo</button> 
        <button type="button" title="deletePost" class="submit" (click)=" btn_DeletePost()" [disabled]="this.form?.value?.id === 0">Eliminar</button>

      </div>
    </div>
  </form>
  </div>
  <div id="post-table">
    <table class="table table-striped table-hover mb-5">
      <thead>
          <tr>
              <th scope="col"></th>
              <th scope="col">Titulo</th>
              <th scope="col">Descripcion</th>
              <th scope="col">Estado</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let post of posts">
            <td>
              <button (click)="btn_SelectPost(post)" class="icon-button" aria-label="Icon button">
              <span>...</span>
            </button>
          </td>
            <td>{{post.title}}</td>
            <td>{{post.description}}</td>
            <td class="status-cell">
              <span *ngIf="post?.state?.id === 2">Autorizado</span> 
              <span *ngIf="post?.state?.id === 3">Rechazado</span>  
              <span *ngIf="post?.state?.id === 1 || post?.state === null ">En espera</span>
            </td>
          </tr>
        </tbody>
    </table>
  </div>
</div> 
    
    
















